{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/carrito.service\";\nimport * as i2 from \"@angular/common\";\n\nfunction CarritoComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 27)(2, \"h2\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 28);\n    i0.ɵɵelement(5, \"img\", 29);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\");\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"button\", 30);\n    i0.ɵɵlistener(\"click\", function CarritoComponent_div_1_Template_button_click_9_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return ctx_r3.addCart($event);\n    });\n    i0.ɵɵtext(10, \"Agregar al carrito\");\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const producto_r2 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(producto_r2.nombre);\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"src\", producto_r2.img, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(8, 4, producto_r2.precio));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"id\", producto_r2.id);\n  }\n}\n\nfunction CarritoComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 6)(1, \"div\", 31)(2, \"div\", 32)(3, \"h6\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(5, \"div\", 31)(6, \"div\", 32)(7, \"h6\", 33);\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"currency\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(10, \"div\", 34)(11, \"div\", 32)(12, \"h6\");\n    i0.ɵɵtext(13, \"Cantidad\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"input\", 35);\n    i0.ɵɵlistener(\"change\", function CarritoComponent_div_7_Template_input_change_14_listener($event) {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return ctx_r6.aumentarCantida($event);\n    });\n    i0.ɵɵelementEnd()()()();\n  }\n\n  if (rf & 2) {\n    const item_r5 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(item_r5.nombre);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(9, 3, item_r5.precio));\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"id\", ctx_r1.id);\n  }\n}\n\nexport let CarritoComponent = /*#__PURE__*/(() => {\n  class CarritoComponent {\n    constructor(carritoService) {\n      this.carritoService = carritoService;\n      this.productos = [];\n      this.productosCarrito = [];\n      this.id = 0;\n      this.cantidad = 0;\n      this.total = 0;\n      this.cantidadactual = 0;\n    }\n\n    ngOnInit() {\n      this.carritoService.getProductos().forEach(producto => {\n        this.productos.push(producto);\n      });\n    }\n\n    addCart(event) {\n      this.id = event.target.id;\n      this.productos.forEach(producto => {\n        if (producto.id == this.id) {\n          if (this.productosCarrito.find(productoCarrito => productoCarrito.id == this.id)) {\n            alert('El producto ya esta en el carrito');\n          } else {\n            this.productosCarrito.push(producto);\n            this.total += producto.precio;\n          }\n        }\n      });\n      console.log(this.productosCarrito);\n    } //carrito ******************************************//\n\n\n    aumentarCantida(event) {\n      console.log(event.target.value);\n      this.id = event.target.id;\n      this.productosCarrito.forEach(p => {\n        if (this.id == p.id) {\n          if (this.cantidadactual < event.target.value) {\n            this.cantidadactual = event.target.value;\n            this.total += p.precio;\n          } else {\n            this.total -= p.precio;\n            this.cantidadactual = event.target.value;\n          }\n        }\n      });\n    }\n\n    disminuirCatidad(event) {\n      this.id = event.target.id;\n      this.productosCarrito.forEach(p => {\n        if (this.id == p.id) {\n          this.total -= p.precio;\n        }\n      });\n    }\n\n  }\n\n  CarritoComponent.ɵfac = function CarritoComponent_Factory(t) {\n    return new (t || CarritoComponent)(i0.ɵɵdirectiveInject(i1.CarritoService));\n  };\n\n  CarritoComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CarritoComponent,\n    selectors: [[\"app-carrito\"]],\n    decls: 45,\n    vars: 5,\n    consts: [[1, \"container\"], [4, \"ngFor\", \"ngForOf\"], [1, \"shopping-cart\"], [1, \"text-center\"], [\"class\", \"row\", 4, \"ngFor\", \"ngForOf\"], [1, \"shopping-cart-items\", \"shoppingCartItemsContainer\"], [1, \"row\"], [1, \"col-12\"], [1, \"shopping-cart-total\", \"d-flex\", \"align-items-center\"], [1, \"mb-0\"], [1, \"ml-4\", \"mb-0\", \"shoppingCartTotal\"], [\"role\", \"alert\", \"aria-live\", \"assertive\", \"aria-atomic\", \"true\", \"data-delay\", \"2000\", 1, \"toast\", \"ml-auto\", \"bg-info\"], [1, \"toast-header\"], [1, \"mr-auto\", \"ml-1\", \"text-secondary\"], [\"type\", \"button\", \"data-dismiss\", \"toast\", \"aria-label\", \"Close\", 1, \"ml-2\", \"mb-1\", \"close\"], [\"aria-hidden\", \"true\"], [1, \"toast-body\", \"text-white\"], [\"type\", \"button\", \"data-toggle\", \"modal\", \"data-target\", \"#comprarModal\", 1, \"btn\", \"btn-success\", \"ml-auto\", \"comprarButton\"], [\"id\", \"comprarModal\", \"tabindex\", \"-1\", \"aria-labelledby\", \"comprarModalLabel\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\"], [1, \"modal-dialog\", \"modal-dialog-centered\"], [1, \"modal-content\"], [1, \"modal-header\"], [\"id\", \"comprarModalLabel\", 1, \"modal-title\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", \"aria-label\", \"Close\", 1, \"close\"], [1, \"modal-body\"], [1, \"modal-footer\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", 1, \"btn\", \"btn-secondary\"], [1, \"producto\"], [1, \"imagen\"], [\"alt\", \"\", 3, \"src\"], [1, \"btn\", \"btn-primary\", 3, \"id\", \"click\"], [1, \"col-6\"], [1, \"shopping-cart-header\", \"itemx\"], [1, \"text-truncate\"], [1, \"col-4\"], [\"type\", \"number\", \"miz\", \"\", 1, \"form-control\", 3, \"id\", \"change\"]],\n    template: function CarritoComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵtemplate(1, CarritoComponent_div_1_Template, 11, 6, \"div\", 1);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(2, \"section\", 2)(3, \"div\", 0)(4, \"h1\", 3);\n        i0.ɵɵtext(5, \"CARRITO\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(6, \"hr\");\n        i0.ɵɵtemplate(7, CarritoComponent_div_7_Template, 15, 5, \"div\", 4);\n        i0.ɵɵelement(8, \"div\", 5);\n        i0.ɵɵelementStart(9, \"div\", 6)(10, \"div\", 7)(11, \"div\", 8)(12, \"p\", 9);\n        i0.ɵɵtext(13, \"Total\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"p\", 10);\n        i0.ɵɵtext(15);\n        i0.ɵɵpipe(16, \"currency\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"div\", 11)(18, \"div\", 12)(19, \"span\");\n        i0.ɵɵtext(20, \"\\u2705\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"strong\", 13);\n        i0.ɵɵtext(22, \"Elemento en el carrito\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(23, \"button\", 14)(24, \"span\", 15);\n        i0.ɵɵtext(25, \"\\u00D7\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(26, \"div\", 16);\n        i0.ɵɵtext(27, \" Se aument\\u00F3 correctamente la cantidad \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(28, \"button\", 17);\n        i0.ɵɵtext(29, \"Comprar\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(30, \"div\", 18)(31, \"div\", 19)(32, \"div\", 20)(33, \"div\", 21)(34, \"h5\", 22);\n        i0.ɵɵtext(35, \"Gracias por su compra\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(36, \"button\", 23)(37, \"span\", 15);\n        i0.ɵɵtext(38, \"\\u00D7\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(39, \"div\", 24)(40, \"p\");\n        i0.ɵɵtext(41, \"Pronto recibir\\u00E1 su pedido\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(42, \"div\", 25)(43, \"button\", 26);\n        i0.ɵɵtext(44, \"Cerrar\");\n        i0.ɵɵelementEnd()()()()()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.productos);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngForOf\", ctx.productosCarrito);\n        i0.ɵɵadvance(8);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(16, 3, ctx.total));\n      }\n    },\n    directives: [i2.NgForOf],\n    pipes: [i2.CurrencyPipe],\n    styles: [\".item[_ngcontent-%COMP%]{border:2px solid #000;padding:10px;border-radius:20px}.item-title[_ngcontent-%COMP%]{text-transform:uppercase;text-align:center;font-weight:600}.item-image[_ngcontent-%COMP%]{height:300px;width:100%}.item-details[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin:20px 0 15px}.item-details[_ngcontent-%COMP%] > .item-price[_ngcontent-%COMP%]{margin:0}.shopping-cart-items[_ngcontent-%COMP%]{padding:20px 0}.shopping-cart-header[_ngcontent-%COMP%]{border-bottom:1px solid #ccc}.shopping-cart-image[_ngcontent-%COMP%]{max-width:80px;border-radius:20px}.shopping-cart-quantity-input[_ngcontent-%COMP%]{max-width:45px;border:1px solid #ccc;border-radius:5px;background:#eee;padding:5px}.shopping-cart-total[_ngcontent-%COMP%]{min-height:96px}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;align-items:center}.row[_ngcontent-%COMP%]{flex-wrap:nowrap}\"]\n  });\n  return CarritoComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}